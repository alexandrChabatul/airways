<div class="home-wrapper">
  <div class="search-form">
    <mat-radio-group aria-label="Select an option" [(ngModel)]="tripType">
      <mat-radio-button value="round-trip" checked>Round trip</mat-radio-button>
      <mat-radio-button value="one-way">One Way</mat-radio-button>
    </mat-radio-group>

    <div class="travel-scheme">
      <airways-airway-autocomplete
        label="From"
        (airportSubmit)="changeFromAirport($event)"
        [airport]="from"
      ></airways-airway-autocomplete>
      <airways-airway-autocomplete
        label="Destination"
        (airportSubmit)="changeDestinationAirport($event)"
        [airport]="destination"
      ></airways-airway-autocomplete>
      <div class="swap-button" (click)="swapFields()">
        <mat-icon>sync_alt</mat-icon>
      </div>
    </div>

    <div class="date-passengers">
      <ng-template [ngIf]="tripType === 'round-trip'" ; [ngIfElse]="simpleDatepicker">
        <mat-form-field appearance="fill">
          <mat-label>Enter a date range</mat-label>
          <mat-date-range-input [formGroup]="roundTripDateForm" [rangePicker]="picker" [min]="minDate">
            <input matStartDate formControlName="start" placeholder="Start date">
            <input matEndDate formControlName="end" placeholder="End date">
          </mat-date-range-input>
          <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>

          <mat-error *ngIf="roundTripDateForm.controls['start'].hasError('matStartDateInvalid')">Invalid start date</mat-error>
          <mat-error *ngIf="roundTripDateForm.controls['end'].hasError('matEndDateInvalid')">Invalid end date</mat-error>
        </mat-form-field>
      </ng-template>

      <ng-template #simpleDatepicker>
        <mat-form-field class="example-full-width" appearance="fill" [formGroup]="oneWayTripDateForm">
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="date"/>
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="oneWayTripDateForm.controls['date'].hasError('invalidDate')">Invalid date</mat-error>
        </mat-form-field>
      </ng-template>

      <!-- <mat-form-field appearance="fill">
        <mat-label>Favorite Food</mat-label>
        <mat-select [(value)]="selectedFood">
          <mat-option [value]="option.value" *ngFor="let option of foods">{{
            option.viewValue
          }}</mat-option>
        </mat-select>
      </mat-form-field> -->
    </div>
  </div>
</div>
